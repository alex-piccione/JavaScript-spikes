<!DOCTYPE html>
<html>
<head>
	<title>AngularjS $watch</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body ng-app="spike">


	<h1>AngularJS $watch function</h1>

	<p>
		Inspired by this <a href="http://www.toptal.com/angular-js/videos/javascript-video-tutorial-using-watch-watchgroup-and-watchcollection-functions-in-angularjs/#remote-developer-job">video tutorial</a>.
	</p>

    <div ng-controller="mainController">
		Message: {{message}}
		<div>
		</div>
	</div>
	
	
	<script>
	"use sctrict;"
	var app = angular.module("spike", []);
	
	app.controller("mainController",
		function($scope, $timeout) {
			$scope.message = "start message";

			$scope.$watch("message", function(newValue, oldValue) {
				console.log("message, old: " + oldValue + ", new: " + newValue);
			});

			$timeout(function() {
			    $scope.message = "new message";
		    }, 2 * 1000);
		}
	);
	
	</script>
</body>
</html>