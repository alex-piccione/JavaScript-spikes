<!DOCTYPE html>
<html>
<head>
	<title>Cross communication spike</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</head>
<body ng-app="spike">

	<div ng-controller="cartWidgetController">
		<div ng-controller="itemsController" class="container">		

			<h1>Cross communication spike</h1>
			<p>Different techniques about communicating across different components (i.e. directives and controllers)</p>

			<h2>Communicating with inherited scope</h2>

			<div class="well">
				<span class="badge pull-right">Items: {{totalItems}}</span>
				Demo shopping cart
			</div>

			<div class="well">
				Items:
				<ul>
					<li ng-repeat="item in items">
						{{item}}
						<span class="btn btn-small btn-info" ng-click="addToCart(item)">Add to cart</span>
					</li>
				</ul>

				<div>{{cartItems}} items in cart</div>

			</div>

		</div>
	</div>

	<script>
		"use strict";

		var app = angular.module("spike", []);

		app.controller("itemsController", function ($scope) {
			$scope.cartItems = 0;
			$scope.items = ["Laptop", "Desktop", "XBox", "Tablet"];
			$scope.addToCart = function (item) {
				$scope.addItem();
				$scope.cartItems++;
			};
		});

		app.controller("cartWidgetController", function($scope) {
			$scope.totalItems = 0;
			$scope.addItem = function() {
				$scope.totalItems++;
			};
		});


	</script>
</body>
</html>